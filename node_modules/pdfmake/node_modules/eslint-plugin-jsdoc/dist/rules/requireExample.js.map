{"version":3,"sources":["../../src/rules/requireExample.js"],"names":["jsdoc","report","utils","avoidDocs","targetTagName","functionExamples","_","filter","tags","tag","avoidExampleOnConstructors","hasATag","isConstructor","length","forEach","example","exampleContent","compact","name","description","trim","split","meta","type"],"mappings":";;;;;;;AAAA;;AACA;;;;eAEe,2BAAa,CAAC;AAC3BA,EAAAA,KAD2B;AAE3BC,EAAAA,MAF2B;AAG3BC,EAAAA;AAH2B,CAAD,KAItB;AACJ,MAAIA,KAAK,CAACC,SAAN,EAAJ,EAAuB;AACrB;AACD;;AAED,QAAMC,aAAa,GAAG,SAAtB;;AAEA,QAAMC,gBAAgB,GAAGC,gBAAEC,MAAF,CAASP,KAAK,CAACQ,IAAf,EAAqB;AAC5CC,IAAAA,GAAG,EAAEL;AADuC,GAArB,CAAzB;;AAIA,MAAIF,KAAK,CAACQ,0BAAN,OACFR,KAAK,CAACS,OAAN,CAAc,CACZ,OADY,EAEZ,aAFY,CAAd,KAIAT,KAAK,CAACU,aAAN,EALE,CAAJ,EAMG;AACD;AACD;;AAED,MAAI,CAACP,gBAAgB,CAACQ,MAAtB,EAA8B;AAC5BZ,IAAAA,MAAM,CAAC,oBAAoBG,aAApB,GAAoC,eAArC,CAAN;AAEA;AACD;;AAEDC,EAAAA,gBAAgB,CAACS,OAAjB,CAA0BC,OAAD,IAAa;AACpC,UAAMC,cAAc,GAAGV,gBAAEW,OAAF,CAAU,CAACF,OAAO,CAACG,IAAR,GAAe,GAAf,GAAqBH,OAAO,CAACI,WAA9B,EAA2CC,IAA3C,GAAkDC,KAAlD,CAAwD,IAAxD,CAAV,CAAvB;;AAEA,QAAI,CAACL,cAAc,CAACH,MAApB,EAA4B;AAC1BZ,MAAAA,MAAM,CAAC,oBAAoBG,aAApB,GAAoC,eAArC,CAAN;AACD;AACF,GAND;AAOD,CAtCc,EAsCZ;AACDkB,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAE;AADF;AADL,CAtCY,C","sourcesContent":["import _ from 'lodash';\nimport iterateJsdoc from '../iterateJsdoc';\n\nexport default iterateJsdoc(({\n  jsdoc,\n  report,\n  utils\n}) => {\n  if (utils.avoidDocs()) {\n    return;\n  }\n\n  const targetTagName = 'example';\n\n  const functionExamples = _.filter(jsdoc.tags, {\n    tag: targetTagName\n  });\n\n  if (utils.avoidExampleOnConstructors() && (\n    utils.hasATag([\n      'class',\n      'constructor'\n    ]) ||\n    utils.isConstructor()\n  )) {\n    return;\n  }\n\n  if (!functionExamples.length) {\n    report('Missing JSDoc @' + targetTagName + ' declaration.');\n\n    return;\n  }\n\n  functionExamples.forEach((example) => {\n    const exampleContent = _.compact((example.name + ' ' + example.description).trim().split('\\n'));\n\n    if (!exampleContent.length) {\n      report('Missing JSDoc @' + targetTagName + ' description.');\n    }\n  });\n}, {\n  meta: {\n    type: 'suggestion'\n  }\n});\n"],"file":"requireExample.js"}